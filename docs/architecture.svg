<svg width="1000" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="500" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#2c3e50">
    ESP32 Camera System Architecture
  </text>
  
  <!-- ESP32 Device -->
  <g id="esp32">
    <rect x="50" y="80" width="180" height="100" rx="10" fill="#4a90e2" stroke="#2e5c8a" stroke-width="3"/>
    <text x="140" y="110" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#ffffff">
      ESP32-WROVER
    </text>
    <text x="140" y="135" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff">
      Camera OV2640
    </text>
    <text x="140" y="160" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#ffffff">
      10.0.0.30:80
    </text>
  </g>
  
  <!-- FastAPI Backend -->
  <g id="backend">
    <rect x="310" y="80" width="180" height="100" rx="10" fill="#50c878" stroke="#2d7a4a" stroke-width="3"/>
    <text x="400" y="110" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#ffffff">
      FastAPI Backend
    </text>
    <text x="400" y="135" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff">
      Python 3.13
    </text>
    <text x="400" y="160" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#ffffff">
      Port 8000
    </text>
  </g>
  
  <!-- n8n Automation -->
  <g id="n8n">
    <rect x="570" y="80" width="180" height="100" rx="10" fill="#ff6b6b" stroke="#c92a2a" stroke-width="3"/>
    <text x="660" y="110" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#ffffff">
      n8n Automation
    </text>
    <text x="660" y="135" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff">
      Workflows
    </text>
    <text x="660" y="160" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#ffffff">
      Port 5678
    </text>
  </g>
  
  <!-- Image Viewer -->
  <g id="viewer">
    <rect x="310" y="250" width="180" height="100" rx="10" fill="#ffd93d" stroke="#c9a500" stroke-width="3"/>
    <text x="400" y="280" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#000000">
      Image Viewer
    </text>
    <text x="400" y="305" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#000000">
      Python Gallery
    </text>
    <text x="400" y="330" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#000000">
      Port 8080
    </text>
  </g>
  
  <!-- Storage -->
  <g id="storage">
    <rect x="50" y="250" width="180" height="100" rx="10" fill="#ecf0f1" stroke="#7f8c8d" stroke-width="3"/>
    <text x="140" y="280" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      Captures Folder
    </text>
    <text x="140" y="305" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#2c3e50">
      Shared Volume
    </text>
    <text x="140" y="330" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#2c3e50">
      JPEG Images
    </text>
  </g>
  
  <!-- OpenAI -->
  <g id="openai">
    <rect x="770" y="250" width="180" height="100" rx="10" fill="#9b59b6" stroke="#6c3483" stroke-width="3"/>
    <text x="860" y="280" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#ffffff">
      OpenAI API
    </text>
    <text x="860" y="305" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff">
      GPT-4 Vision
    </text>
    <text x="860" y="330" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#ffffff">
      Image Analysis
    </text>
  </g>
  
  <!-- Browser -->
  <g id="browser">
    <rect x="310" y="420" width="180" height="100" rx="10" fill="#3498db" stroke="#2980b9" stroke-width="3"/>
    <text x="400" y="450" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#ffffff">
      Web Browser
    </text>
    <text x="400" y="475" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff">
      User Interface
    </text>
    <text x="400" y="500" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#ffffff">
      Dashboard
    </text>
  </g>
  
  <!-- Arrows -->
  <!-- ESP32 to Backend -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#495057"/>
    </marker>
  </defs>
  
  <line x1="230" y1="130" x2="310" y2="130" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="270" y="120" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#495057">HTTP</text>
  
  <!-- Backend to n8n -->
  <line x1="490" y1="130" x2="570" y2="130" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="530" y="120" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#495057">REST</text>
  
  <!-- Backend to Storage -->
  <line x1="400" y1="180" x2="200" y2="250" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="300" y="210" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#495057">Save</text>
  
  <!-- Viewer to Storage -->
  <line x1="310" y1="300" x2="230" y2="300" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="270" y="290" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#495057">Read</text>
  
  <!-- Backend to OpenAI -->
  <line x1="490" y1="150" x2="770" y2="280" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="630" y="210" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#495057">Analyze</text>
  
  <!-- Browser to Backend -->
  <line x1="400" y1="420" x2="400" y2="350" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="420" y="385" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#495057">API</text>
  
  <!-- Browser to Viewer -->
  <line x1="380" y1="420" x2="380" y2="350" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Browser to n8n -->
  <line x1="490" y1="450" x2="640" y2="180" stroke="#495057" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="565" y="310" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#495057">UI</text>
  
  <!-- Legend -->
  <g id="legend">
    <text x="50" y="560" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">
      Components:
    </text>
    <rect x="150" y="545" width="15" height="15" fill="#4a90e2"/>
    <text x="170" y="557" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Hardware</text>
    
    <rect x="250" y="545" width="15" height="15" fill="#50c878"/>
    <text x="270" y="557" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Backend</text>
    
    <rect x="350" y="545" width="15" height="15" fill="#ff6b6b"/>
    <text x="370" y="557" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Automation</text>
    
    <rect x="470" y="545" width="15" height="15" fill="#ffd93d"/>
    <text x="490" y="557" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Viewer</text>
    
    <rect x="570" y="545" width="15" height="15" fill="#9b59b6"/>
    <text x="590" y="557" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">AI Services</text>
    
    <rect x="690" y="545" width="15" height="15" fill="#3498db"/>
    <text x="710" y="557" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Client</text>
  </g>
  
  <!-- Footer -->
  <text x="500" y="590" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#7f8c8d">
    ESP32 Camera System - Built with ❤️ by Glenn Mossy
  </text>
</svg>
